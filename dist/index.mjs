function __classPrivateFieldGet(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}var e,t;class Snowflake{constructor(n){e.set(this,0n),t.set(this,void 0),Object.defineProperty(this,"decode",{enumerable:!0,configurable:!0,writable:!0,value:this.deconstruct}),function __classPrivateFieldSet(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}(this,t,BigInt(n))}generate({increment:n=__classPrivateFieldGet(this,e),timestamp:r=Date.now(),workerID:a=1n,processID:i=1n}={increment:__classPrivateFieldGet(this,e),timestamp:Date.now(),workerID:1n,processID:1n}){if(r instanceof Date&&(r=BigInt(r)),"number"!=typeof r||Number.isNaN(r)||(r=BigInt(r)),"bigint"!=typeof r)throw new TypeError(`"timestamp" argument must be a number, BigInt or Date (received ${Number.isNaN(r)?"NaN":typeof r})`);return n>=4095n&&(n=0n),r-__classPrivateFieldGet(this,t)<<22n|a<<17n|i<<12n|n++}deconstruct(e){const n=BigInt(e);return{id:n,timestamp:(n>>22n)+__classPrivateFieldGet(this,t),workerID:n>>17n&31n,processID:n>>12n&31n,increment:4095n&n,epoch:__classPrivateFieldGet(this,t)}}}e=new WeakMap,t=new WeakMap;class DiscordSnowflake extends Snowflake{constructor(){super(DiscordSnowflake.Epoch)}static deconstruct(e){return(new DiscordSnowflake).deconstruct(e)}static generate(e={timestamp:Date.now()}){return(new DiscordSnowflake).generate(e)}}Object.defineProperty(DiscordSnowflake,"Epoch",{enumerable:!0,configurable:!0,writable:!0,value:1420070400000n}),Object.defineProperty(DiscordSnowflake,"decode",{enumerable:!0,configurable:!0,writable:!0,value:DiscordSnowflake.deconstruct});class TwitterSnowflake extends Snowflake{constructor(){super(TwitterSnowflake.Epoch)}static deconstruct(e){return(new TwitterSnowflake).deconstruct(e)}static generate(e={timestamp:Date.now()}){return(new TwitterSnowflake).generate(e)}}Object.defineProperty(TwitterSnowflake,"Epoch",{enumerable:!0,configurable:!0,writable:!0,value:1142974214000n}),Object.defineProperty(TwitterSnowflake,"decode",{enumerable:!0,configurable:!0,writable:!0,value:TwitterSnowflake.deconstruct});export{DiscordSnowflake,Snowflake,TwitterSnowflake};
//# sourceMappingURL=index.mjs.map
